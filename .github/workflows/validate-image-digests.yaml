name: Validate Image Digests

on:
  pull_request:
    paths:
      - '.github/workflows/validate-image-digests.yaml'
      - 'Makefile'
      - 'hack/validate-image-digests.sh'
      - 'Dockerfile'
      - '**/*bundle.Dockerfile'
      - '.rhdh/docker/Dockerfile'

jobs:
  validate-image-digests:
    name: Validate Image Digests
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@08c6903cd8c0fde910a37f88322edcfb5dd907a8 # v5

      - name: Run validation script
        run: make validate-image-digests
